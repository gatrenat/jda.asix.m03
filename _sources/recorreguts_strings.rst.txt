#######
Strings
#######

Fins ara, els strings els hem tractat de manera atòmica; és a dir, com un
valor indivisible. Per exemple, els hem llegit, escrit, comparat o
assignat en bloc.

Considera la següent assignació:

.. code-block:: python

    nom = "Ritchie"

El resultat d'executar-ho serà un espai de memòria al que ens podrem
referir amb el nom de variable ``nom `` que contindrà les set lletres
``R``, ``i``, ``t``, ``c``, ``h``, ``i`` i ``e``.

Podem imaginar que ``nom`` fa referència a una estructura com la que
descriu el següent diagrama:

.. image:: _images/string_ritchie.png
   :align: center

Hem de tenir en compte, però, que els *strings* són bàsicament seqüències o
cadenes de caràcters, i que cada caràcter en Python és també un string.

Podria tenir sentit accedir també de manera individual als elements d'un string?

Doncs bé, d'això va aquest nou tema.

Considera la següent interacció a la consola Python

.. code-block:: none
    :linenos:

    >>> text = "Ameba"                      # declarem i inicialitzem un String
    >>> primeraLletra = text[0]             # obtenim el primer caràcter
    >>> primeraLletra
    'A'
    >>> text[1]                             # obtenim el segon caràcter
    'm'
    >>> len(text)                           # obtenim la longitud del String
    5
    >>> text[len(text)]                     # intentem aconseguir un caràcter fora de rang
    Traceback (most recent call last):
      File "<stdin>", line 1, in <module>
    IndexError: string index out of range
    >>> text[len(text)-1]                   # obtenim el darrer caràcter del String
    'a'
    >>> text[-1]                            # una altra manera d'obtenir el darrer caràcter
    'a'


Fixa't com podem accedir a cada caràcter amb ``text[posicio]``.
Les
posicions comencen pel número 0 i, per tant, la darrera posició correspon
al nombre de caràcters que conté la cadena *menys un*.

Podem saber quants caràcters té un String amb la utilitat ``len(text)``.
Donat que és una seqüència, el nom de la utilitat retorna la *longitud*.

Finalment, si ens passem de posició i demanem una fora de
rang, ens trobarem amb un error que indica clarament que ens hem anat fora
de la cadena.

Juguem una mica
===============

En els següents exercicis treballarem l'accés a diferents lletres d'un
String. Se t'oferiran noves funcions de Python que podràs fer servir en
successius exercicis, a menys que explícitament t'indiquin el contrari.

Recorda: tot i que hi ha moltes funcions que ens ofereix Python que ens
podrien simplificar els nostres codis, el nostre objectiu no és tant
resoldre els problemes si no aprendre a programar. És a dir, fes servir
**només** el que et vagin oferint aquests continguts.

Et recomano que ampliïs les teves anotacions del :doc:`resum de comandes
<exercici_00_03_resum_comandes>` amb les funcions que et vagi presentant.
En cas que trobis d'altres, és important
que les marquis com a **no permeses** en els exercicis base ni a les
proves d'aquest curs.

|exerciseicon__T| :doc:`exercici_04_10_inicial_vocal_minuscula`

|exerciseicon__T| :doc:`exercici_04_11_acaba_vocal_minuscula`

|exerciseicon__T| :doc:`exercici_04_12_acaba_lletra`

|exerciseicon__T| :doc:`exercici_04_13_segona_igual_penultima`

|exerciseicon__T| :doc:`exercici_04_14_funcions_caracters`

|exerciseicon__T| :doc:`exercici_04_15_matricula_italiana`

|exerciseiconOS_| :doc:`exercici_04_16_matricula_valida_ampliada`

|exerciseicon__T| :doc:`exercici_04_17_analisi_caracter`

Recorreguts en Strings
======================

Tal i com acabem de veure, és possible accedir als diferents
caràcters que composen un String a partir de la seva posició dins la
cadena.

Considera el següent codi:

.. code-block:: console

    >>> text = "Ritchie"
    >>> text[0]
    'R'
    >>> text[1]
    'i'
    >>> text[2]
    't'

Cap misteri, no? És el funcionament que ja coneixem de la indexació dels
strings amb ``[posició]``.

També ens podem imaginar que, en comptes de fer servir el literal concret
de la posició, li podem indicar a partir d'una variable:

.. code-block:: console

    >>> posicio = 0
    >>> text[posicio]
    'R'
    >>> posicio = 1
    >>> text[posicio]
    'i'
    >>> posicio = posicio + 1    # posicio == 2
    >>> text[posicio]
    't'

Te n'adones que, excepte pel valor de la variable ``posicio``, la
instrucció per obtenir cada caràcter és la mateixa? Mmmm Interessant

T'imagines poder automatitzar l'accés a cada caràcter sense haver d'anar
incrementant explícitament la variable ``posicio``?

És a dir, el que ens interessaria és anar fent que ``posicio`` agafi els
valors del 0 (primera posició) fins el 6 (darrera posició de "Ritchie") o
millor ``len(text) - 1``.

Però, un moment, això ja ho tenim! ``posicio`` és una variable numèrica i
sabem fer recorreguts numèrics, oi?

.. code-block:: console

    >>> for posicio in range(0, len(text), 1):
    ...     print(posicio)
    ... 
    0
    1
    2
    3
    4
    5
    6

Creus que seria possible aplicar-ho al ``[]``?

.. code-block:: console

    >>> for posicio in range(0, len(text), 1):
    ...     print(text[posicio])
    ... 
    R
    i
    t
    c
    h
    i
    e

Ueeeeee! Sí! funciona!

A veure si ho hem entès. Fem-ho més explícit:

.. code-block:: console

    >>> for posicio in range(0, len(text), 1):
    ...     print(f"El caracter a la posició {posicio} és {text[posicio]}")
    ... 
    El caracter a la posició 0 és R
    El caracter a la posició 1 és i
    El caracter a la posició 2 és t
    El caracter a la posició 3 és c
    El caracter a la posició 4 és h
    El caracter a la posició 5 és i
    El caracter a la posició 6 és e

Però, un moment, això vol dir que tot el que hem aprés de recorreguts
numèrics ho podem aplicar a recorreguts amb Strings! Doncs sí, això mateix.

Apa, a practicar!

|exerciseicon__T| :doc:`exercici_04_18_parentitza`

|exerciseicon__T| :doc:`exercici_04_19_nomes_lletres`

|exerciseicon__T| :doc:`exercici_04_20_mostra_interval_string`

|exerciseicon__T| :doc:`exercici_04_21_cadena_continua`

|exerciseicon__T| :doc:`exercici_04_22_es_enter`
